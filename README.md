# cp-cfo-2024

## Перед запуском!

Создать файл `.env` в корне проекта и заполнить его согласно файлу `.env.example`

## Frontend

### Запуск

Запуск фронтенда через docker compose:

```
docker compose up frontend --build
```

По умолчанию фронтенд поднимется на 81 порту. Можно при желании поменять в файле docker-compose.yml

Локальный запуск:

```
cd frontend
npm i (только в первый раз)
npm run dev
```

По умолчанию будет пытаться достучаться до http://localhost:8080/. Можно задать другой адрес в файле `frontend/src/config.ts`

### Аргументы .env

```
VITE_API_HOST - ссылка на бэкенд. Обязательно должна заканчиваться на "/"
VITE_ENABLE_MOCK - флаг для включения режима "без бэкенда". Значение true включает этот режим. Работает на моковых данных.
```
## API

Фронтенд отправляет данные в body POST-запроса на один из трех эндпоинтов ниже:

### /upload/file

Должен уметь обработать FormData в свойстве content.
При этом FormData в body запроса будет состоять из следующих свойств:

```
file - содержит загруженный файл в формате pdf
filename - содержит оригинальное название файла
```

### /upload/text

Получает текстовое описание вакансии в body.

### /upload/link

Получет ссылку на вакансию в body.

Фронтенд ожидает от бэкенда ответ в следующем формате:

```
{
    count: number;
    result: {
        url: string;
        title: string;
        price: number;
        description: string;
        match: number;
        technologies: string[];
        months: number;
    }[]
}
```

`count` должен содержать количество курсов, возвращаемых в свойстве result.
